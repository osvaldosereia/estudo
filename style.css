:root{
  --brand:#2f7d5b;
  --ring:rgba(47,125,91,.15);
  --text:#1f2328;
  --muted:#606b74;
  --surface:#fff;
  --bg:#f3efe6;
  --border:#e5e7eb;
  --shadow:0 1px 2px rgba(16,24,40,.06), 0 1px 1px rgba(16,24,40,.04);
  --radius:16px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font:400 15px/1.5 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; background:var(--surface);
  border-bottom:1px solid var(--border);
}
.brand{display:flex; align-items:center; gap:8px; font-weight:700}
.brand .heart{font-size:18px}
.actions{display:flex; gap:8px}

.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid transparent; cursor:pointer}
.btn:focus{outline:2px solid var(--ring)}
.btn-primary{background:var(--brand); color:#fff}
.btn-outline{border-color:var(--border); background:#fff}
.btn-ghost{background:transparent}
.btn-small{padding:6px 10px; font-size:13px}
.btn-square{width:36px; height:36px; padding:0}

/* Sidebar */
.sidebar{
  position:fixed; inset:0 0 0 auto; width:360px; max-width:100vw; background:var(--surface);
  border-left:1px solid var(--border); transform:translateX(100%); transition:.2s; z-index:20;
  display:flex; flex-direction:column;
}
.sidebar[aria-hidden="false"]{ transform:none; }
.sidebar-top{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border)}
.sidebar-content{padding:16px; overflow:auto}
.favorites{list-style:none; padding:0; margin:8px 0; display:grid; gap:6px}

/* Main */
.container{max-width:1000px; margin:0 auto; padding:16px}
.search{display:grid; grid-template-columns:1fr 1fr auto; gap:12px; background:var(--surface); padding:16px; border-radius:var(--radius); border:1px solid var(--border); box-shadow:var(--shadow)}
.field{display:flex; flex-direction:column; gap:6px}
.field label{font-weight:600}
.field input, .field select{padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#fff}

/* Results */
.results{margin-top:16px; background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:12px}
.results-top{display:flex; align-items:center; gap:8px; padding:4px 6px 8px}
.results h2{margin:0; font-size:16px}
.result-msg{color:var(--muted)}

/* Chips */
.group,.rail{display:flex; flex-wrap:wrap; gap:8px; padding:6px 2px 8px}
.chip{border:1px solid var(--border); background:#fff; border-radius:999px; padding:8px 12px; cursor:pointer}
.chip.is-active{border-color:var(--brand); color:var(--brand); box-shadow:0 0 0 3px var(--ring)}

/* LISTA (acessibilidade/backup) */
.result-list{margin-top:8px; display:grid; gap:8px}
.result-item{display:flex; align-items:center; gap:8px; padding:10px; border:1px solid var(--border); border-radius:12px}
.result-item strong{min-width:90px}

/* Modal/Leitor */
.article-modal{margin-top:16px; background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow)}
.article-modal .am-top{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 12px; border-bottom:1px solid var(--border)}
.article-modal .am-title{font-weight:700}
.article-modal .am-subtop{display:flex; align-items:center; gap:8px; padding:8px 12px; border-bottom:1px solid var(--border)}
.article-modal .am-subtop .spacer{flex:1}
.article-modal .am-body{padding:12px; overflow:auto; max-height:70vh; background:#fff}
.article-modal pre, .article-modal .code{font-family:var(--mono); white-space:pre-wrap}
.article-modal .am-actions{display:grid; grid-template-columns:1fr auto auto; gap:8px; padding:10px 12px; border-top:1px solid var(--border)}
.article-modal .am-extras{display:flex; gap:8px; flex-wrap:wrap}

/* vídeos dialog */
.vd-modal{border:none; border-radius:16px; padding:0; width:min(800px, 95vw)}
.vd-top{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--border)}
.vd-body{padding:12px}

/* —— NOVO: trilho horizontal (rail) + leitor inline —— */
.rail{
  display:flex;
  gap:8px;
  overflow-x:auto;
  overflow-y:hidden;
  padding:6px 2px 8px;
  scroll-snap-type:x proximity;
  -ms-overflow-style:none;
  scrollbar-width:none;
}
.rail::-webkit-scrollbar{ display:none; }
.rail .chip{ flex:0 0 auto; scroll-snap-align:start; }
.chip.is-active{ border-color:var(--brand); color:var(--brand); box-shadow:0 0 0 3px var(--ring); }

#resultArea{ position:relative; }
#resultArea::before, #resultArea::after{
  content:""; position:absolute; top:0; bottom:0; width:24px; pointer-events:none;
}
#resultArea::before{ left:0; background:linear-gradient(90deg, var(--surface) 0%, rgba(255,255,255,0) 100%); }
#resultArea::after { right:0; background:linear-gradient(-90deg, var(--surface) 0%, rgba(255,255,255,0) 100%); }

.inline-reader{
  margin-top:14px;
  padding:0;
  background:var(--surface);
  border-radius:16px;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
}
.inline-reader .am-body{
  max-height:60vh;
  overflow:auto;
}
.inline-reader .spacer{ flex:1; }

/* util */
.spacer{flex:1}
.hidden{display:none !important}

@media (max-width: 780px){
  .search{grid-template-columns:1fr; gap:10px}
  .sidebar{width:100%}
}
