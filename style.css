*{box-sizing:border-box}
html,body{margin:0;height:100%}
:root{
  --wrap-max:920px;
  --topbar-h:60px;

  --bg:#f5f6f8;      /* fundo do site */
  --top:#ffffff;     /* top bar */
  --bottom:#e9edf2;  /* barra inferior */

  --ink:#0f172a; --muted:#6b7280; --line:#e1e6ef; --line-strong:#cfd6e4;
  --blue:#2563eb; --blue-soft:#e9f0ff;
  --shadow:0 20px 40px rgba(2,8,20,.06), 0 2px 8px rgba(2,8,20,.04);
  --radius:14px; --radius-sm:10px;
}

body{font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji"; color:var(--ink); background:var(--bg)}

.wrap{max-width:var(--wrap-max); margin:0 auto; padding:0 16px}

.topbar{position:sticky; top:0; z-index:10; background:var(--top); box-shadow:var(--shadow); height:var(--topbar-h); display:flex; align-items:center}
.topbar .wrap{display:flex; align-items:center; gap:12px}
.brand{background:none; border:0; font-weight:700; cursor:pointer}
.search{display:flex; align-items:center; gap:8px; margin-left:auto; flex:1; max-width:560px}
.search .field{flex:1; height:36px; border:1px solid var(--line); border-radius:10px; padding:0 12px}
.icon-btn{height:36px; min-width:36px; padding:0 10px; border-radius:8px; border:1px solid var(--line); background:#fff; cursor:pointer}
.spinner{opacity:.6}

.file-select select{height:36px; border:1px solid var(--line); border-radius:10px; background:#fff; padding:0 8px}

/* página */
.page{padding:16px 0 120px}
.stack{display:flex; flex-direction:column; gap:14px}

/* cards (leitor) */
.card{background:#fff; border:1px solid var(--line); border-radius:var(--radius); padding:14px 14px}
.card .title{font-weight:700; margin:0 0 4px}
.card .meta{color:var(--muted); font-size:12px; margin-bottom:6px}
.card .actions{display:flex; gap:8px; flex-wrap:wrap}
.card .act{border:1px solid var(--line); background:#fff; border-radius:8px; padding:6px 10px; cursor:pointer}
.card .check{margin-left:auto}
.card .check input{width:18px;height:18px}

/* modal */
.modal{position:fixed; inset:0; display:block}
.modal[hidden]{display:none}
.modal-backdrop{position:absolute; inset:0; background:rgba(15,23,42,.4)}
.modal-card{position:absolute; inset:auto 12px 12px; left:50%; transform:translateX(-50%); max-width:var(--wrap-max); background:#fff; border-radius:var(--radius); box-shadow:var(--shadow)}
.modal-head{display:flex; align-items:center; gap:8px; padding:12px 14px; border-bottom:1px solid var(--line)}
.modal-head .title{font-weight:700}
.modal-body{padding:14px}
.modal-foot{padding:10px 14px; border-top:1px solid var(--line); display:flex; justify-content:flex-end}

.mini-list{display:flex; flex-direction:column; gap:6px; margin:8px 0}
.mini-actions{display:flex; gap:8px; margin:8px 0 0}
.ia-grid{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.chip{border:1px solid var(--line); background:#fff; border-radius:999px; padding:6px 12px; cursor:pointer}
.btn{height:44px; padding:0 14px; border-radius:12px; border:1px solid var(--line); background:#fff; cursor:pointer}
.btn.soft{background:#fff}
.btn.small{height:34px; padding:0 10px}
.btn-primary{background:var(--blue); color:#fff; border-color:var(--blue); box-shadow:0 6px 18px rgba(37,99,235,.22)}
.btn-ghost{background:#fff}
.muted{color:var(--muted)}
.small-note{font-size:12px}

/* barra inferior */
.bottombar{position:fixed; left:0; right:0; bottom:0; background:var(--bottom); border-top:1px solid var(--line); z-index:10}
.bar-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; height:70px}
.bar-group{display:flex; align-items:center; gap:12px}

/* toasts */
.toasts{position:fixed; left:50%; transform:translateX(-50%); bottom:calc(74px + 8px); display:flex; flex-direction:column; gap:8px}
.toast{background:#111827; color:#fff; border-radius:10px; padding:10px 12px; box-shadow:var(--shadow); max-width:92vw}

/* lista vazia dos selecionados */
.block-empty{border:1px dashed var(--line-strong); border-radius:12px; padding:16px; text-align:center; color:var(--muted)}

/* acessibilidade utilitária */
.visually-hidden{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}

/* ====== NOVO (selecionados moderno + chips de modo) ====== */

/* Botão Selecionados com badge */
.btn-selected{position:relative; display:inline-flex; align-items:center; gap:8px}
.btn-selected .badge{
  min-width:20px; height:20px; padding:0 6px;
  border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  font-size:12px; font-weight:600; background:var(--ink); color:#fff;
}

/* Botão quadrado para limpar rápido (fica oculto quando não há seleção) */
#clearSelBtn{display:none}

/* Rótulos curtos/longos (economia no mobile) */
.btn .short{display:none}
.btn .long{display:inline}
@media (max-width:430px){
  .bar-inner{gap:8px}
  .bar-group{gap:8px}
  .btn{height:40px; padding:0 12px}
  .btn .long{display:none}
  .btn .short{display:inline}
}

/* Chips de modo no modal de Estudo */
.mode-chips{display:flex; gap:8px; margin-left:auto}
.mode-chips .chip{
  padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:#fff; cursor:pointer
}
.mode-chips .chip.active{
  background:var(--blue-soft); border-color:var(--blue)
}
