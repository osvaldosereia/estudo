/* Reset básico */
*{box-sizing:border-box}
html,body{margin:0;height:100%}
img{max-width:100%;display:block}

/* Tokens */
:root{
  --wrap-max:920px;

  --bg:#f5f6f8;
  --ink:#0f172a;
  --muted:#6b7280;
  --line:#e1e6ef;

  --blue:#2563eb;
  --blue-soft:#e9f0ff;

  --card:#ffffff;
  --elev:0 10px 30px rgba(2,8,20,.06);
  --elev-soft:0 8px 20px rgba(2,8,20,.05);

  --radius:16px;
  --radius-pill:999px;

  --safe: max(env(safe-area-inset-bottom), 16px);
}

/* Base */
body{
  background:var(--bg);
  color:var(--ink);
  font:400 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}
.wrap{max-width:var(--wrap-max);margin:0 auto;padding:16px}

/* Splash */
.splash{
  position:fixed;inset:0;background:linear-gradient(180deg,#fff, #f7f9ff);
  display:none;align-items:center;justify-content:center;z-index:9999;
}
.splash[aria-hidden="false"]{display:flex}
.splash-inner{width:min(680px,90vw);text-align:center}
.splash-logo{width:88px;height:88px;margin:0 auto 20px}
.splash-form{display:flex;gap:8px;justify-content:center}
.splash-form input{
  flex:1;min-width:0;height:48px;border-radius:12px;border:1px solid var(--line);
  background:#fff;padding:0 14px;font-size:16px;outline:0;
}
.btn{height:48px;border-radius:12px;border:1px solid transparent;padding:0 16px;cursor:pointer}
.btn-primary{background:var(--ink);color:#fff}
.splash-hint{margin-top:10px;color:var(--muted);font-size:13px}

/* Resultados */
.results-stack{display:grid;gap:14px}

/* Grupo colapsável minimal */
.group{
  border:1px solid var(--line);
  background:var(--card);
  border-radius:16px;box-shadow:var(--elev-soft);
  overflow:hidden;
}
.group-h{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px;cursor:pointer;user-select:none;
}
.group-title{font-weight:600}
.group-meta{color:var(--muted);font-size:13px}
.group-chevron{transition:transform .18s ease}
.group[aria-expanded="true"] .group-chevron{transform:rotate(180deg)}
.group-body{display:none;border-top:1px solid var(--line)}
.group[aria-expanded="true"] .group-body{display:block}

/* Card */
.card{
  padding:16px;border-bottom:1px solid var(--line);background:#fff;
  display:grid;grid-template-columns:1fr auto;gap:12px;align-items:start;
}
.card:last-child{border-bottom:none}
.card-title{display:inline-flex;align-items:center;gap:8px}
.pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:var(--blue-soft);color:#1745a0;font-weight:600;font-size:12px}
.card-actions{display:flex;gap:8px;align-self:end;justify-self:end}
.btn-ghost{background:#fff;border:1px solid var(--line);color:var(--ink)}
.btn-ghost:focus{outline:2px solid #c9d6ff;outline-offset:2px}

/* Destaque do card selecionado (auto-seleção) */
.card.is-selected{
  position:relative;box-shadow:var(--elev);
}
.card.is-selected::before{
  content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--blue);
  border-top-left-radius:12px;border-bottom-left-radius:12px;
}

/* FAB Cluster */
.fab-cluster{
  position:fixed;right:16px;bottom:calc(var(--safe) + 16px);
  display:flex;flex-direction:column;gap:12px;z-index:999;
}
.fab{
  width:56px;height:56px;border-radius:16px;border:1px solid var(--line);
  background:#fff;box-shadow:var(--elev);display:inline-flex;align-items:center;justify-content:center;
  cursor:pointer;outline:0;
}
.fab svg{display:block}
.fab:active{transform:translateY(1px)}
.fab-primary{
  min-width:56px;gap:10px;padding:0 14px;justify-content:center;
  background:var(--ink);color:#fff;border-color:transparent;
}
.fab-primary span{white-space:nowrap;max-width:40vw;overflow:hidden;text-overflow:ellipsis}
.fab-logo img{width:40px;height:40px}

/* Lupa retrátil */
.fab-search-wrap{display:flex;align-items:center;gap:8px}
.fab-search-form{
  display:none;
}
.fab-search-wrap[aria-expanded="true"] .fab-search-form{
  display:block;
  background:#fff;border:1px solid var(--line);box-shadow:var(--elev);border-radius:12px;
}
.fab-search-form input{
  width:min(70vw,520px);height:44px;border:none;outline:0;padding:0 12px;background:transparent;
}

/* Utilidades */
.hidden{display:none !important}

/* Acessibilidade focus */
:focus-visible{outline:2px solid #a7c1ff;outline-offset:2px}

/* Pequenos ajustes responsivos */
@media (min-width: 960px){
  .fab-primary span{max-width:360px}
}
