/* ===== Reset básico ===== */
*{box-sizing:border-box}
html,body{margin:0;height:100%}
img{max-width:100%;display:block}

/* ===== Tokens ===== */
:root{
  --wrap-max: 920px;
  --topbar-h: 64px;

  --bg:#f5f6f8;
  --top:#ffffff;

  --ink:#0f172a;
  --muted:#6b7280;

  --line:#e1e6ef;
  --line-strong:#cfd6e4;

  --radius:16px;
  --radius-lg:18px;

  --shadow:0 10px 30px rgba(2,8,20,.04);
}

/* ===== Layout ===== */
body{background:var(--bg); color:var(--ink); font:14px/1.45 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
.wrap{width:min(var(--wrap-max), 92vw); margin:0 auto}

/* Topbar */
.topbar{position:sticky;top:0;z-index:50;background:var(--top);border-bottom:1px solid var(--line)}
.topbar .wrap{display:flex;align-items:center;gap:14px;height:var(--topbar-h)}
.brand{height:28px; width:auto; cursor:pointer}
.search{display:flex;gap:10px;align-items:center;margin-left:auto}
.search select, .search input{height:36px;border:1px solid var(--line);border-radius:12px;background:#fff;padding:0 10px}
.search .btn{height:36px;padding:0 14px;border-radius:999px;border:1px solid #cfd4e2;background:#fff;font-weight:600;color:#111;cursor:pointer}
.search-box{position:relative;display:flex;align-items:center}
.spinner{width:14px;height:14px;border:2px solid #cbd5e1;border-top-color:#111;border-radius:50%;margin-left:-24px;animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(1turn)}}

/* Conteúdo */
.content{padding:calc(var(--topbar-h) + 12px) 0 40px}
.stack{padding:8px 0}

/* Cards */
.card{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
  align-items:start;
  padding:16px;
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:#fff;
  box-shadow:0 1px 0 rgba(2,8,20,.02);
  margin:12px 0;
}
.card .head{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.pill{
  display:inline-flex;align-items:center;gap:6px;
  padding:4px 10px;border-radius:999px;background:#eef3ff;color:#1e3a8a;
  font-weight:500;font-size:.8rem;text-decoration:none;opacity:.95
}
.card .body{white-space:pre-wrap;margin:8px 0 10px;color:#1f2937}
.card .body mark{background:#dfeaff;border-radius:6px;padding:0 .15em}

/* ===== Barra de ações: esquerda (seta) + direita (FAB) ===== */
.card .actions{
  display:flex;
  align-items:center;
  justify-content:space-between;  /* seta à esquerda, menu à direita */
  gap:10px;
  margin-top:8px;
}
.card .actions-left{display:flex;align-items:center;gap:8px}
.card .actions-right{position:relative;display:flex;align-items:center}

/* Toggle (seta) */
.card .toggle{
  border:1px solid #d6dbe6;
  background:#fff;
  border-radius:999px;
  height:32px;
  padding:0 12px;
  font-weight:600;
  color:#111;
  cursor:pointer;
}

/* ===== FAB (botão redondo + menu com 3 bolinhas que abre para a esquerda) ===== */
.fab{ position:relative; height:40px; display:flex; align-items:center; }
.fab-main{
  width:40px;height:40px;border-radius:50%;
  border:1px solid #d6dbe6;background:#fff;
  display:inline-grid;place-items:center;cursor:pointer;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
  transition:transform .15s ease, box-shadow .2s ease;
}
.fab-main:active{ transform:scale(.97) }
.fab-main:hover{ box-shadow:0 2px 6px rgba(0,0,0,.08) }
.fab-main img{ width:20px;height:20px;object-fit:contain;display:block }

/* Menu que abre para a esquerda */
.fab-menu{
  position:absolute; right:44px; top:50%; transform:translateY(-50%);
  display:flex; gap:8px;
  pointer-events:none;           /* fechado: não clica */
}
.fab.open .fab-menu{ pointer-events:auto }

.fab-item{
  width:40px;height:40px;border-radius:50%;
  border:1px solid #d6dbe6;background:#fff;
  display:inline-grid;place-items:center;cursor:pointer;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
  opacity:0; transform:translateX(8px) scale(.96);
  transition:transform .18s ease, opacity .18s ease, box-shadow .2s ease;
}
.fab-item:hover{ box-shadow:0 2px 6px rgba(0,0,0,.08) }
.fab-item img{ width:20px;height:20px;object-fit:contain;display:block }

/* Ao abrir: aparecem em cascata, vindo da direita para a esquerda */
.fab.open .fab-item{ opacity:1; transform:translateX(0) scale(1) }
.fab.open .fab-item:nth-child(1){ transition-delay:.02s }
.fab.open .fab-item:nth-child(2){ transition-delay:.06s }
.fab.open .fab-item:nth-child(3){ transition-delay:.10s }

/* ===== Modal Leitor ===== */
.modal{position:fixed;inset:0;display:grid;place-items:center;z-index:1000}
.modal[hidden]{display:none}
.modal-backdrop{position:fixed;inset:0;background:rgba(10,15,25,.35);backdrop-filter:saturate(1.2) blur(4px);z-index:0}
.modal-card{position:relative;z-index:1;width:min(900px,96vw);max-height:88vh;background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow);border:1px solid var(--line);display:flex;flex-direction:column;overflow:hidden}
.modal-head{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid var(--line-strong);background:#f4f5f8}
.modal-head .title{font-weight:600;color:#111}
.modal-meta{margin-left:auto;color:#6b7280}
.modal-body{padding:14px 16px;overflow:auto;scroll-behavior:smooth}
.modal-foot{display:flex;justify-content:flex-end;padding:10px 12px;border-top:1px solid var(--line)}
.icon-btn{width:36px;height:36px;border:1px solid #d6dbe6;border-radius:12px;background:#fff;cursor:pointer}
.foot-close{margin-left:auto}

/* Artigos dentro do leitor */
.article{padding:16px 0;border-top:2px solid var(--line-strong);display:grid;grid-template-columns:auto 1fr;gap:14px}
.article:first-child{border-top:0}
.article h4{margin:0 0 6px;font-weight:600}
.article .a-body{white-space:pre-wrap;color:#1f2937}
.article.highlight{animation:hilite 2s ease}
@keyframes hilite{0%{background:#fff9c2}100%{background:#fff}}

/* Toasts */
.toasts{position:fixed;left:0;right:0;bottom:14px;display:grid;place-items:center;z-index:1200;pointer-events:none}
.toast{background:#111;color:#fff;border-radius:14px;padding:10px 14px;margin:6px;box-shadow:var(--shadow);pointer-events:auto}
