<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vade Mecum ‚Äî Busca R√°pida de Artigos</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <meta name="theme-color" content="#212842"/>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar" role="banner">
    <div class="inner">
      <div class="brand" aria-label="Vade Mecum Digital">
        <span class="logo-text"><b>direito</b>.love</span>
      </div>
      <nav class="actions">
        <!-- REMOVIDO: bot√£o Informa√ß√µes -->
        <button id="btnReset" class="icon-btn" title="Limpar sele√ß√£o" aria-label="Limpar sele√ß√£o">
          <img src="icons/reset.svg" alt="Reiniciar">
        </button>
        <button id="btnSidebar" class="icon-btn" title="Abrir menu" aria-label="Abrir menu">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z" fill="currentColor"></path>
          </svg>
        </button>
      </nav>
    </div>
  </header>

  <!-- Sidebar (direita) -->
  <aside id="sidebar" class="sidebar" aria-hidden="true" aria-label="Menu lateral">
    <div class="side-header">
      <span class="side-title">Menu</span>
      <button id="btnSideClose" class="icon-btn ghost" title="Fechar menu" aria-label="Fechar menu">√ó</button>
    </div>
    <nav class="side-nav">
      <a href="#" class="side-link">Estude R√°pido</a>
      <a href="#" class="side-link">Dicas de Cursos</a>
      <a href="#" class="side-link">Not√≠cias</a>
      <a href="#" class="side-link">Vocabul√°rio Jur√≠dico</a>
      <a href="#" class="side-link">Sobre</a>
    </nav>
    <div class="side-footer small">
      <span>üíö direito.love</span>
    </div>
  </aside>
  <div id="sideBackdrop" class="backdrop" hidden></div>

  <main class="page" role="main">
    <section class="controls" aria-label="Busca de Artigos">
      <div class="grid">
        <div class="field" data-area="code">
          <label for="selCodigo">C√≥digo/Lei</label>
          <select id="selCodigo" class="input select" aria-label="Selecione o C√≥digo ou Lei"></select>
        </div>
        <div class="field" data-area="article">
          <label for="inpArtigo">N√∫mero do Artigo ou Palavras</label>
          <input id="inpArtigo" class="input" placeholder="Ex.: 121 | 121-A | homic√≠dio qualificado" aria-label="Entrada de busca" />
        </div>
        <div class="field button-cell" data-area="go">
          <button id="btnBuscar" class="btn btn-primary">Buscar</button>
        </div>
      </div>
      <p class="hint">Aceita n√∫mero (ex.: 121, 121-A) ou <b>palavras inteiras</b> (retorna artigos que contenham <b>todas</b> as palavras).</p>
    </section>

    <section class="results" aria-label="Resultados">
      <h3 class="section-title">Resultado</h3>
      <div id="resultChips" class="group"></div>
      <div id="resultMsg" class="small"></div>
    </section>

    <section class="selected" aria-label="Artigos Selecionados">
      <div class="selected-head">
        <h3 class="section-title">Selecionados para o prompt <span id="selCount">(0/5)</span></h3>
        <button id="btnClearSel" class="btn btn-outline" title="Limpar sele√ß√£o">Limpar</button>
      </div>
      <div id="selectedChips" class="group"></div>

      <div class="prompt-actions">
        <button id="btnGerarPrompt" class="btn btn-primary" disabled>Gerar Prompt</button>
      </div>

      <div id="promptArea" class="prompt-area" hidden>
        <h4>Seu Prompt</h4>
        <div id="promptBox" class="prompt-box"></div>
        <div class="group" style="margin-top:8px">
          <button id="btnCopiar" class="btn btn-primary">Copiar</button>
          <a class="btn btn-outline" href="https://chatgpt.com/" target="_blank" rel="noopener">Abrir ChatGPT</a>
          <a class="btn btn-outline" href="https://gemini.google.com/app" target="_blank" rel="noopener">Abrir Gemini</a>
          <a class="btn btn-outline" href="https://www.perplexity.ai/" target="_blank" rel="noopener">Abrir Perplexity</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal de ajuda (mantido) -->
  <dialog id="modalInfo" class="modal">
    <form method="dialog" class="modal-content">
      <h3>Como funciona</h3>
      <p>Escolha um C√≥digo/Lei, busque pelo artigo ou por palavras inteiras. Clique no chip para abrir o texto em modal. Navegue com setas ou arraste (mobile). ‚ÄúIncluir no prompt‚Äù adiciona at√© 5 artigos para gerar um estudo r√°pido.</p>
      <menu class="modal-actions">
        <button value="cancel" class="btn btn-primary">Entendi</button>
      </menu>
    </form>
  </dialog>

  <!-- Modal de Artigo -->
  <dialog id="modalArtigo" class="modal article-modal">
    <form method="dialog" class="modal-content">
      <header class="am-top">
        <div class="am-title" id="amTitle">Artigo</div>
      </header>

      <div class="am-body" id="amBody">
        <!-- conte√∫do do artigo (renderizado via JS) -->
      </div>

      <!-- extras aparecem ap√≥s carregamento condicional -->
      <div class="am-extras" id="amExtras" hidden></div>

      <footer class="am-actions">
        <button id="btnPrev" class="btn btn-outline btn-square" title="Artigo anterior" aria-label="Artigo anterior">‚Üê</button>
        <div class="am-center">
          <button id="btnFechar" value="cancel" class="btn btn-outline">Fechar</button>
          <button id="btnIncluir" class="btn btn-primary">Incluir no prompt</button>
        </div>
        <button id="btnNext" class="btn btn-outline btn-square" title="Pr√≥ximo artigo" aria-label="Pr√≥ximo artigo">‚Üí</button>
      </footer>
    </form>
  </dialog>

  <!-- Modal Quiz -->
  <dialog id="modalQuiz" class="modal quiz-modal">
    <form method="dialog" class="modal-content">
      <header class="qz-top">
        <div class="qz-title" id="qzTitle">Quest√µes</div>
      </header>
      <div class="qz-body">
        <div id="qzEnunciado" class="qz-enunciado"></div>
        <div id="qzAlternativas" class="qz-alternativas"></div>
        <div id="qzFeedback" class="qz-feedback" hidden></div>
      </div>
      <footer class="qz-actions">
        <button id="btnQzPrev" class="btn btn-outline btn-square" aria-label="Quest√£o anterior">‚Üê</button>
        <div class="am-center">
          <button id="btnQzFechar" value="cancel" class="btn btn-outline">Fechar</button>
          <button id="btnQzConfirmar" class="btn btn-primary">Confirmar</button>
          <button id="btnQzProxima" class="btn btn-primary" hidden>Pr√≥xima</button>
        </div>
        <button id="btnQzNext" class="btn btn-outline btn-square" aria-label="Pr√≥xima quest√£o">‚Üí</button>
      </footer>
    </form>
  </dialog>

  <!-- Modal V√≠deos -->
  <dialog id="modalVideos" class="modal videos-modal">
    <form method="dialog" class="modal-content">
      <header class="vd-top">
        <div class="vd-title" id="vdTitle">V√≠deo aula</div>
      </header>
      <div class="vd-body">
        <ul id="vdLista" class="vd-lista"></ul>
      </div>
      <footer class="vd-actions">
        <button id="btnVdFechar" value="cancel" class="btn btn-primary">Fechar</button>
      </footer>
    </form>
  </dialog>

  <script src="script.js?v=auto-2025-09-12b"></script>
</body>
</html>
